<form action="/figures/<%=@figure.id%>" method="post">

<!-- Figure Name -->
<label for="figure[name]">Name:</label>
<input type="text" name="figure[name]" id="figure_name" value="<%=@figure.name%>">

<!-- Select Titles -->
<h3>Titles</h3>
<% @titles.each do |title| %>
    <input type="checkbox" name="figure[title_ids][]" id="title_<%=title.id%>" value="<%=title.id%>" <%='checked' if @figure.titles.include?(title)%>>
    <%=title.name%> <br>
<% end %>

<!-- Create New Title -->
<h3>Create New Title:</h3>
<input type="text" name="title[name]" id="new_title">

<!-- Select Landmarks -->
<h3>Landmarks</h3>
<% @landmarks.each do |landmark| %>
    <input type="checkbox" name="figure[landmark_ids][]" id="landmark_<%=landmark.id%>" value="<%=landmark.id%>" <%='checked' if @figure.landmarks.include?(landmark)%>>
    <%=landmark.name%> <br>
<% end %>

<!-- Create New Landmark -->
<h3>Create New Landmark:</h3>
<input type="text" name="landmark[name]" id="new_landmark"><br><br>

<% if @figure.id %>
 <input type="hidden" name="_method" value="patch">
<% end %>

<input type="submit" value="Save Figure">
</form>